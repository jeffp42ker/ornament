<!DOCTYPE html>
<html><head><title>Clerk</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  content: ["./public/build/index.html", "./public/build/**/*.html", "./build/viewer.js"],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h2, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }
  h4 { @apply text-xl; }
  h5 { @apply text-lg; }
  h6 { @apply text-base; }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.toc-content {
  @apply translate-x-[-110%] opacity-0;
}
.toc:hover .toc-content,
.toc.pinned .toc-content {
  @apply translate-x-0 opacity-100;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.viewer-markdown ul .task-list-item ul {
  @apply mt-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.viewer-code {
  @apply font-mono bg-slate-100 rounded-sm py-4 px-8 text-sm mt-4 overflow-x-auto;
}
@media (min-width: 960px){
  .viewer-notebook .viewer-code {
    @apply py-4 pl-12;
  }
}
/* Donâ€™t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Data Viewer */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono; }

.syntax-tag, .cm-number, .syntax-number, .cm-string, .syntax-string,
.cm-atom, .syntax-keyword, .cm-builtin, .cm-keyword, .syntax-symbol,
.syntax-bool, .syntax-nil, .syntax-untyped, .syntax-key, .syntax-index {
  @apply font-mono;
}

.syntax-tag     { @apply text-pink-900 !important; }
.cm-number      { @apply text-sky-900 !important; }
.syntax-number  { @apply text-sky-900 !important; }
.cm-string      { @apply text-teal-700 !important; }
.syntax-string  { @apply text-teal-700 !important; }
.cm-atom        { @apply text-sky-900 !important; }
.syntax-keyword { @apply text-sky-900 !important; }
.cm-builtin     { @apply text-pink-900 !important; }
.cm-keyword     { @apply text-pink-900 !important; }
.syntax-symbol  { @apply text-pink-900 !important; }
.syntax-bool    { @apply text-sky-900 !important; }
.syntax-nil     { @apply text-sky-900 !important; }
.syntax-untyped { @apply text-rose-500 !important; }
.syntax-key     { @apply text-fuchsia-900 !important; }
.syntax-index   { @apply text-fuchsia-900 !important; }

.syntax-untyped { @apply whitespace-nowrap; }

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.viewer-notebook,
.viewer-markdown {
  @apply prose
    prose-a:text-indigo-600 prose-a:font-medium prose-a:no-underline hover:prose-a:underline
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-6
    prose-th:mb-0
    prose-img:mb-0
    max-w-none;
}
.viewer-markdown li > p {
  @apply inline;
}

/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list li p {
  @apply inline m-0;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.viewer-markdown .toc      { @apply mt-4; }
.viewer-markdown h1 + .toc { @apply mt-8; }

.viewer-markdown .toc h1,
.viewer-markdown .toc h2,
.viewer-markdown .toc h3,
.viewer-markdown .toc h4,
.viewer-markdown .toc h5,
.viewer-markdown .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.viewer-markdown .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.viewer-markdown .toc li    { @apply m-0; }
.viewer-markdown .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.viewer-notebook { @apply py-16; }
.viewer-markdown *:first-child:not(.viewer-code) { @apply mt-0; }
.viewer + .viewer { @apply mt-6; }
.viewer-markdown + .viewer { @apply mt-3; }
.viewer-markdown + .viewer-markdown { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-3px] inline-flex justify-center items-center w-[18px] h-[18px]
    rounded-full bg-slate-100 border border-slate-300 hover:bg-slate-200 hover:border-slate-300
    m-0 ml-[4px] cursor-pointer;
}
.sidenote {
  @apply hidden float-left clear-both mx-[2.5%] my-4 text-xs relative w-[95%];
}
.sidenote-ref.expanded + .sidenote {
  @apply block;
}
@media (min-width: 860px) {
  .sidenote-ref {
    @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
  }
  .sidenote sup { @apply inline; }
  .viewer-markdown .contains-sidenotes p { @apply max-w-[65%]; }
  .viewer-markdown p .sidenote {
    @apply mr-[-54%] mt-[0.2rem] w-1/2 float-right clear-right relative block;
  }
}
.viewer-code + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-code-folded + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-result + .viewer-result {
  @apply mt-2;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.collapsed-sidebar:not(.mobile-sidebar) .sidebar-content {
  @apply transition-all duration-200 ml-[-360px] opacity-0;
}
.collapsed-sidebar:hover:not(.mobile-sidebar) .sidebar-content {
  @apply ml-0 opacity-100;
}
.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by twâ€™s border-color */
.katex * { @apply border-black; }
</style><script src="https://storage.googleapis.com/nextjournal-cas-eu/data/8VtrAyT1tkNwAPZyFu4amwY7s9rMteumpHLJUHWj4hhaAn7NxQnM1u9C5r9p37ZaEJ656h6Dh7NxGgHU6ztkNqEsnQ" type="text/javascript"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&amp;family=Fira+Mono:wght@400;700&amp;family=Fira+Sans+Condensed:ital,wght@0,700;1,700&amp;family=Fira+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&amp;family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script>let viewer = nextjournal.clerk.sci_viewer
let app = nextjournal.clerk.static_app
let opts = viewer.read_string("{:paths [#object[java.io.File 0x724517d6 \"notebooks/parse_from_html.clj\"] #object[java.io.File 0x78adde26 \"notebooks/tailwind_ui_preview.clj\"] #object[java.io.File 0x4e3ca69 \"notebooks/html_attrs.clj\"]], :bundle? false, :path-prefix \"\", :git/sha \"sha123\", :git/url \"https://github.com/lambdaisland/ornament\", :path->doc {#object[java.io.File 0x4e3ca69 \"notebooks/html_attrs.clj\"] {:nextjournal/value {:blocks [{:nextjournal/value \"(ns notebooks.html-attrs\\n  (:require [nextjournal.clerk :as clerk]\\n            [lambdaisland.ornament :as o]\\n            [lambdaisland.hiccup :as h]))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :path []} {:nextjournal/value \"(def html (comp clerk/html h/render))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"ojure.core$comp$fn__5825 0x2ed73bd5 \\\\\\\"clojure.core$comp$fn__5825@2ed73bd5\\\\\\\"\\\", :nextjournal/viewer {:name :fn, :render-fn #viewer-fn (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\", :nextjournal/viewer {:name :fn}}, :path []} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<!DOCTYPE html>\\\\n<style>.notebooks_tailwind-ui-preview__portfolio_card{display:flex;align-items:center;justify-content:center;height:100vh;background-image:linear-gradient(to bottom right,var(--gi-gradient-stops));--gi-gradient-from:#6366f1;--gi-gradient-stops:var(--gi-gradient-from),var(--gi-gradient-to,#6366f100);--gi-gradient-to:#3730a3}.notebooks_tailwind-ui-preview__portfolio_card>div{--gi-bg-opacity:1;background-color:rgba(255,255,255,var(--gi-bg-opacity));font-weight:600;text-align:center;border-radius:1.5rem;border-width:1px;--gi-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);box-shadow:var(--gi-ring-offset-shadow,0 0 #0000),var(--gi-ring-shadow,0 0 #0000),var(--gi-shadow);padding:2.5rem;max-width:20rem}.notebooks_tailwind-ui-preview__portfolio_card img{margin-bottom:.75rem;width:8rem;height:8rem;border-radius:9999px;--gi-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);box-shadow:var(--gi-ring-offset-shadow,0 0 #0000),var(--gi-ring-shadow,0 0 #0000),var(--gi-shadow);margin-left:auto;margin-right:auto}.notebooks_tailwind-ui-preview__portfolio_card h1{font-size:1.125rem;line-height:1.75rem;--gi-text-opacity:1;color:rgba(63,63,70,var(--gi-text-opacity))}.notebooks_tailwind-ui-preview__portfolio_card h3{font-size:.875rem;line-height:1.25rem;--gi-text-opacity:1;color:rgba(161,161,170,var(--gi-text-opacity))}.notebooks_tailwind-ui-preview__portfolio_card p{font-size:.75rem;line-height:1rem;--gi-text-opacity:1;color:rgba(161,161,170,var(--gi-text-opacity));margin-top:1rem}.notebooks_tailwind-ui-preview__portfolio_card button{--gi-bg-opacity:1;background-color:rgba(79,70,229,var(--gi-bg-opacity));padding-left:2rem;padding-right:2rem;padding-top:.5rem;padding-bottom:.5rem;margin-top:2rem;border-radius:1.5rem;--gi-text-opacity:1;color:rgba(244,244,245,var(--gi-text-opacity));font-weight:600;text-transform:uppercase;letter-spacing:.025em}\\\\n.notebooks_html-attrs__button0{border-width:1px;--gi-border-opacity:1;border-color:rgba(0,0,0,var(--gi-border-opacity));padding:.5rem;margin:.25rem;border-radius:.25rem}.notebooks_html-attrs__button0:disabled{--gi-border-opacity:1;border-color:rgba(161,161,170,var(--gi-border-opacity));--gi-text-opacity:1;color:rgba(161,161,170,var(--gi-text-opacity))}\\\\n.notebooks_html-attrs__input_field{display:table-row}.notebooks_html-attrs__input_field label{display:table-cell;width:.25rem}.notebooks_html-attrs__input_field input{display:table-cell;width:100%}\\\\n.notebooks_html-attrs__button1{border-width:1px;--gi-border-opacity:1;border-color:rgba(0,0,0,var(--gi-border-opacity));padding:.5rem;margin:.25rem;border-radius:.25rem}.notebooks_html-attrs__button1:disabled{--gi-border-opacity:1;border-color:rgba(161,161,170,var(--gi-border-opacity));--gi-text-opacity:1;color:rgba(161,161,170,var(--gi-text-opacity))}\\\\n.notebooks_html-attrs__button2{border-width:1px;--gi-border-opacity:1;border-color:rgba(0,0,0,var(--gi-border-opacity));padding:.5rem;margin:.25rem;border-radius:.25rem}.notebooks_html-attrs__button2:disabled{--gi-border-opacity:1;border-color:rgba(161,161,170,var(--gi-border-opacity));--gi-text-opacity:1;color:rgba(161,161,170,var(--gi-text-opacity))}\\\\n.notebooks_html-attrs__button3{padding:.5rem;margin:.25rem;border-width:1px}\\\\n.notebooks_html-attrs__button4{padding:.5rem;margin:.25rem;border-width:1px;--gi-border-opacity:1;border-color:rgba(0,0,0,var(--gi-border-opacity));--gi-text-opacity:1;color:rgba(39,39,42,var(--gi-text-opacity));border-radius:.25rem}.notebooks_html-attrs__button4:disabled{--gi-border-opacity:1;border-color:rgba(161,161,170,var(--gi-border-opacity));--gi-text-opacity:1;color:rgba(161,161,170,var(--gi-text-opacity))}\\\\n</style>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" Let's take a simple button component\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(o/defstyled button0 :button\\n  :border-1 :border-black :p-2 :m-1 :rounded\\n  [:&:disabled :border-gray-400 :text-gray-400])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"notebooks_html-attrs__button0\\\", :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.inspected-value.whitespace-nowrap.text-gray-700 x]))}}\"}, :path []} {:nextjournal/value \"(o/defstyled input-field :div\\n  :table-row\\n  [:label :table-cell :w-1]\\n  [:input :table-cell :w-full]\\n  ([opts caption]\\n   [:<>\\n    [:label {:for (:id opts)} caption]\\n    [:input opts]]))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"notebooks_html-attrs__input_field\\\", :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.inspected-value.whitespace-nowrap.text-gray-700 x]))}}\"}, :path []} {:nextjournal/value \"(o/defstyled button1 :button\\n  :border-1 :border-black :p-2 :m-1 :rounded\\n  [:&:disabled :border-gray-400 :text-gray-400]\\n  )\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"notebooks_html-attrs__button1\\\", :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.inspected-value.whitespace-nowrap.text-gray-700 x]))}}\"}, :path []} {:nextjournal/value \" (o/as-garden button1)\\n (o/css button1)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" This is what it looks like\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(html [button1  \\\"Click me\\\"])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<!DOCTYPE html>\\\\n<button class=\\\\\\\"notebooks_html-attrs__button1\\\\\\\">Click me</button>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" It's basically just an alias for a HTML element, so we can give it an\\n attributes map and children.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(html [button1 {:type \\\"submit\\\"\\n                :disabled \\\"disabled\\\"}\\n       \\\"Click me\\\"])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<!DOCTYPE html>\\\\n<button type=\\\\\\\"submit\\\\\\\" disabled=\\\\\\\"disabled\\\\\\\" class=\\\\\\\"notebooks_html-attrs__button1\\\\\\\">Click me</button>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" Now suppose we actually have some inner markup for this button that we want\\n to encapsulate, so we add a render function.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(o/defstyled button2 :button\\n  :border-1 :border-black\\n  :p-2 :m-1 :rounded\\n  [:&:disabled\\n   :border-gray-400\\n   :text-gray-400]\\n  ([]\\n   [:<> \\\"Send!\\\"]))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"notebooks_html-attrs__button2\\\", :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.inspected-value.whitespace-nowrap.text-gray-700 x]))}}\"}, :path []} {:nextjournal/value \"(html [button2])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<!DOCTYPE html>\\\\n<button row=\\\\\\\"8\\\\\\\" col=\\\\\\\"4\\\\\\\" end-row=\\\\\\\"8\\\\\\\" end-col=\\\\\\\"17\\\\\\\" class=\\\\\\\"notebooks_html-attrs__button2\\\\\\\">Send!</button>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" That's cool and all, but now we are no longer able to pass in html\\n attributes, which is somewhat confusing.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(comment\\n  (html [button2 {:disabled \\\"disabled\\\"}])\\n  ;; Arity exception\\n  )\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :path []} {:nextjournal/value \" Currently what you can do is use metadata inside the render function to\\n signal that you want to set attributes on the outer element (the button). You\\n can think of the caret as pointing \\\"upwards\\\" to the component itself.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(o/defstyled button3 :button\\n  :p-2 :m-1 :border-1\\n  ([{:keys [disabled? caption]}]\\n   [:<> {:disabled disabled?} caption]))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"notebooks_html-attrs__button3\\\", :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.inspected-value.whitespace-nowrap.text-gray-700 x]))}}\"}, :path []} {:nextjournal/value \" And you can take an attribute map as an argument, and then pass that through,\\n to allow setting attributes from the outer markup.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(o/defstyled button4 :button\\n  :p-2 :m-1 :border-1\\n  :border-black :text-gray-800 :rounded\\n  [:&:disabled :border-gray-400 :text-gray-400]\\n  ([attrs]\\n   (with-meta\\n     [:<> \\\"Send!\\\"]\\n     (merge {:disabled \\\"disabled\\\"} attrs))))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value notebooks_html-attrs__button4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}}\"}, :path []} {:nextjournal/value \"(html [button4 {:id \\\"my-btn\\\"}])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<!DOCTYPE html>\\\\n<button disabled=\\\\\\\"disabled\\\\\\\" id=\\\\\\\"my-btn\\\\\\\" class=\\\\\\\"notebooks_html-attrs__button4\\\\\\\">Send!</button>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" So far for the exposition of the current situation. It is not great, to say\\n the least. It's an escape hatch that we added in to still be able to do these\\n things, but it's ugly and unintuitive.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Let's actually pick this apart, there are basically three places where\\n attributes can come from\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" - Ornament / the component : we have a class attribute which we always need\\n   to add\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" - Render function : people should be able to declare common attributes as\\n   part of the render function\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" - Markup: when using a component you may want to set extra attributes\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" What we want to get to is something much simpler, unsurprising, and consistent.\\n The main proposal is to start supporting this syntax:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(o/defstyled button4 :button\\n  :p-2 :m-1 :border-1\\n  :border-black :text-gray-800 :rounded\\n  [:&:disabled :border-gray-400 :text-gray-400]\\n  ([]\\n   [:<> {:disabled \\\"disabled\\\"} \\\"Send!\\\"]))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value notebooks_html-attrs__button4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}}\"}, :path []} {:nextjournal/value \" While this is new syntax it should be unsurprising, `:<>` is a placeholder for\\n the component tag (`:button`), and it's followed by its attributes. When\\n rendering we would add in the ornament classname, and we're done.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The question is what happens when people pass in attributes from the outside,\\n because now this no longer works:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(comment\\n  (html [button4 {:type \\\"submit\\\"}]))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :path []} {:nextjournal/value \" Currently that's a arity exception because this component takes no arguments.\\n Even if it did, Ornament is not doing anything with that map, but the\\n component author could:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(o/defstyled button4 :button\\n  :p-2 :m-1 :border-1\\n  :border-black :text-gray-800 :rounded\\n  [:&:disabled :border-gray-400 :text-gray-400]\\n  ([attrs]\\n   [:<> (merge {:disabled \\\"disabled\\\"} attrs) \\\"Send!\\\"]))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value notebooks_html-attrs__button4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}}\"}, :path []} {:nextjournal/value \" - Pros: simple, consistent, fairly predictable\\n - Cons: components need to explicitly add support, it's a fairly naive approach, we might want smarter merging\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" By smart merging we mainly mean: merging of class and style attributes\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(o/defstyled button5 :button\\n  ([attrs]\\n   [:<> {;; Extra class in addition to .notebooks_html-attrs__button5\\n         :class \\\"extra-class\\\"\\n         ;; inline styles\\n         :style {:color \\\"blue\\\"}} \\\"Send!\\\"]))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"notebooks_html-attrs__button5\\\", :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.inspected-value.whitespace-nowrap.text-gray-700 x]))}}\"}, :path []} {:nextjournal/value \"(comment\\n  [button5 {:class [\\\"more-class\\\" \\\"and-more\\\"]\\n            :style {:padding \\\"1rem\\\"}}])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :path []} {:nextjournal/value \" Does it make sense to want these things to merge?\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Something to consider as well is that components may pass a map with any old\\n data into a component, we can't just assume that it's HTML attributes\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(comment\\n  [blog-view\\n   {:posts posts\\n    :authors authors}])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :path []} {:nextjournal/value \" So we like a solution that's explicit and opt-in, but that still always\\n provides a way to set extra attrs from the outside, even if the component did\\n not account for that.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" A solution could be a custom key in the map, perhaps namespaced to be\\n unambiguously an Ornament thing\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(comment\\n  [blog-view\\n   {:posts posts\\n    :authors authos\\n    ::o/attrs {:id \\\"foo\\\"}}])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :path []}]}, :nextjournal/viewer :clerk/notebook, :scope {:namespace :notebooks.html-attrs}}}, :path->url {#object[java.io.File 0x724517d6 \"notebooks/parse_from_html.clj\"] \"notebooks/parse_from_html.html\", #object[java.io.File 0x78adde26 \"notebooks/tailwind_ui_preview.clj\"] \"notebooks/tailwind_ui_preview.html\", #object[java.io.File 0x4e3ca69 \"notebooks/html_attrs.clj\"] \"notebooks/html_attrs.html\"}, :current-path #object[java.io.File 0x4e3ca69 \"notebooks/html_attrs.clj\"]}")
app.init(opts)
</script></body></html>